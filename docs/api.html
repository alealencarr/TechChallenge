<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documenta√ß√£o da API ‚Äì Sistema de Pedidos</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fira+Code&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Slate & Amber -->
    <!-- Application Structure Plan: The SPA is designed with a fixed sidebar navigation and a main content area. This classic documentation layout was chosen over a simple linear page because it allows users to both read the guide sequentially and instantly jump to a specific resource (e.g., "Pedidos") for quick reference. The flow starts with a general overview, then dives into each API resource, and concludes with business rules and examples. This structure organizes the information by topic, which is more intuitive for a developer who needs to solve a specific problem, enhancing usability and speed. -->
    <!-- Visualization & Content Choices: Report Info: API endpoints & business rules. Goal: Inform & Organize. Viz/Presentation Method: Structured HTML with styled sections, code blocks, and tables. Interaction: Sidebar navigation with smooth scroll and active section highlighting; copy-to-clipboard buttons for code blocks. Justification: Since the source is textual, the focus is on clear typography, scannability, and ease of use. The dependency table clearly organizes complex information. Unicode icons provide quick visual cues for each section. Library/Method: Vanilla JS for all interactions. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* slate-50 */
            color: #475569; /* slate-600 */
        }
        code, pre {
            font-family: 'Fira Code', monospace;
        }
        .code-block {
            position: relative;
        }
        .copy-btn {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            background-color: #475569; /* slate-600 */
            color: #e2e8f0; /* slate-200 */
            padding: 0.25rem 0.75rem;
            border-radius: 0.375rem;
            font-size: 0.75rem;
            font-weight: 500;
            cursor: pointer;
            opacity: 0.3;
            transition: all 0.2s ease-in-out;
        }
        .code-block:hover .copy-btn {
            opacity: 1;
            background-color: #334155; /* slate-700 */
        }
        .nav-link.active {
            color: #f59e0b; /* amber-500 */
            background-color: #f1f5f9; /* slate-100 */
            border-right: 3px solid #f59e0b;
        }
        section {
            scroll-margin-top: 5rem;
        }
    </style>
</head>
<body class="bg-slate-50">

    <div class="flex">
        <!-- Sidebar Navigation -->
        <aside class="fixed top-0 left-0 h-screen w-64 bg-white shadow-md hidden lg:block">
            <div class="p-6">
                <h1 class="text-2xl font-bold text-slate-800">üìò API de Pedidos</h1>
            </div>
            <nav id="sidebar-nav" class="mt-4 flex flex-col space-y-1">
                <a href="#visao-geral" class="nav-link block px-6 py-2.5 text-slate-700 hover:bg-slate-100 hover:text-amber-500 font-medium transition-colors duration-200">üß© Vis√£o Geral</a>
                <a href="#recursos" class="nav-link block px-6 py-2.5 text-slate-700 hover:bg-slate-100 hover:text-amber-500 font-medium transition-colors duration-200">üìö Recursos da API</a>
                <a href="#regras-negocio" class="nav-link block px-6 py-2.5 text-slate-700 hover:bg-slate-100 hover:text-amber-500 font-medium transition-colors duration-200">‚öñÔ∏è Regras de Neg√≥cio</a>
                <a href="#validacoes" class="nav-link block px-6 py-2.5 text-slate-700 hover:bg-slate-100 hover:text-amber-500 font-medium transition-colors duration-200">üß™ Valida√ß√µes</a>
                <a href="#ordem-execucao" class="nav-link block px-6 py-2.5 text-slate-700 hover:bg-slate-100 hover:text-amber-500 font-medium transition-colors duration-200">üß≠ Ordem de Execu√ß√£o</a>
                <a href="#exemplos" class="nav-link block px-6 py-2.5 text-slate-700 hover:bg-slate-100 hover:text-amber-500 font-medium transition-colors duration-200">üõ†Ô∏è Exemplos Pr√°ticos</a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="w-full lg:ml-64 p-6 md:p-10">
            
            <section id="visao-geral">
                <h2 class="text-4xl font-bold text-slate-800 mb-4">üß© Vis√£o Geral</h2>
                <p class="text-lg mb-6">Esta documenta√ß√£o detalha os recursos da API do Sistema de Pedidos. A API foi projetada para ser consumida de forma sequencial e intuitiva, com recursos para gerenciar todo o fluxo de um pedido de fast food, desde o cadastro de produtos at√© a finaliza√ß√£o do pedido.</p>
                <div class="bg-amber-50 border-l-4 border-amber-400 p-4 rounded-r-lg">
                    <h3 class="font-bold text-amber-800">Utilizando a Collection do Postman</h3>
                    <p class="text-amber-700 mt-2">A cole√ß√£o do Postman fornecida √© a maneira recomendada de testar. Ela est√° organizada de forma sequencial para que as vari√°veis (como `{{idCliente}}`) sejam preenchidas automaticamente. Lembre-se de configurar a vari√°vel de ambiente `{{url}}` com a URL base da sua API.</p>
                </div>
            </section>

            <section id="recursos" class="mt-12">
                <h2 class="text-4xl font-bold text-slate-800 mb-8">üìö Recursos da API</h2>
                <p class="text-lg mb-6">A API √© organizada em torno de recursos RESTful. Abaixo est√° uma descri√ß√£o de cada recurso principal. Para a lista completa de endpoints, m√©todos HTTP, par√¢metros e exemplos de `request`/`response`, consulte a <span class="font-semibold">documenta√ß√£o interativa do Swagger</span> ou a <span class="font-semibold">collection do Postman</span> fornecida.</p>
                <div class="space-y-10 mt-8">
                    
                    <article id="categorias">
                        <h3 class="text-2xl font-semibold text-slate-700 mb-3">üìÅ Categorias</h3>
                        <p>Representa os tipos de produto (ex: Lanche, Bebida). As categorias s√£o pr√©-cadastradas no sistema e n√£o podem ser manipuladas via API, servindo como base para a cria√ß√£o de produtos.</p>
                    </article>

                    <article id="clientes">
                        <h3 class="text-2xl font-semibold text-slate-700 mb-3">üë§ Clientes</h3>
                        <p>Gerencia os dados do cliente final. A identifica√ß√£o do cliente √© opcional na cria√ß√£o de um pedido.</p>
                    </article>

                    <article id="ingredientes">
                        <h3 class="text-2xl font-semibold text-slate-700 mb-3">üßÇ Ingredientes</h3>
                        <p>Representa os ingredientes dispon√≠veis para montagem de lanches. Possui dados pr√©-carregados, mas tamb√©m podem ser gerenciados via API.</p>
                    </article>

                    <article id="produtos">
                        <h3 class="text-2xl font-semibold text-slate-700 mb-3">üçî Produtos</h3>
                        <p>Produtos que podem ser solicitados no pedido. A l√≥gica de ingredientes √© estritamente ligada √† categoria do produto.</p>
                    </article>

                    <article id="pedidos">
                        <h3 class="text-2xl font-semibold text-slate-700 mb-3">üßæ Pedidos</h3>
                        <p>Representa um pedido feito com base nos produtos dispon√≠veis, com regras espec√≠ficas para c√°lculo de pre√ßo com base em ingredientes adicionais.</p>
                    </article>

                </div>
            </section>
            
            <section id="regras-negocio" class="mt-12">
                <h2 class="text-4xl font-bold text-slate-800 mb-8">‚öñÔ∏è Regras de Neg√≥cio Chave</h2>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h4 class="font-bold text-lg text-slate-800 mb-2">Produtos e Categorias</h4>
                        <ul class="list-disc list-inside space-y-2">
                            <li>Se a categoria for <span class="font-semibold bg-yellow-100 px-1 rounded">'Lanche'</span>, ingredientes podem ser inclu√≠dos.</li>
                            <li>Lanches devem ter <span class="font-semibold">pelo menos um</span> ingrediente.</li>
                            <li>Para outras categorias (Bebida, Acompanhamento), ingredientes enviados na requisi√ß√£o ser√£o <span class="font-semibold text-red-600">ignorados</span>.</li>
                        </ul>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h4 class="font-bold text-lg text-slate-800 mb-2">Pedidos e Ingredientes</h4>
                        <ul class="list-disc list-inside space-y-2">
                            <li>Ingredientes j√° cadastrados no produto servem como base.</li>
                            <li>Ingredientes <span class="font-semibold text-green-600">adicionais</span> no pedido ter√£o seu pre√ßo somado ao valor total.</li>
                            <li>Ingredientes <span class="font-semibold text-red-600">removidos</span> do lanche <span class="font-semibold">n√£o geram desconto</span> no valor final.</li>
                             <li>Um pedido deve conter pelo menos um produto.</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="validacoes" class="mt-12">
                <h2 class="text-4xl font-bold text-slate-800 mb-8">üß™ Valida√ß√µes e Casos de Erro</h2>
                <p class="mb-4">A cole√ß√£o do Postman inclui exemplos para todos os cen√°rios, tanto de sucesso (status 2xx) quanto de falha (status 4xx). Os erros de valida√ß√£o s√£o retornados com mensagens claras indicando o problema.</p>
                 <ul class="list-disc list-inside space-y-2 bg-white p-6 rounded-lg shadow">
                    <li><span class="font-semibold">Sucesso:</span> Retornos com status `200 OK`, `201 Created`, ou `204 No Content`.</li>
                    <li><span class="font-semibold text-red-600">Erros Comuns:</span></li>
                    <li class="ml-6">Criar um lanche sem ingredientes.</li>
                    <li class="ml-6">Tentar associar ingredientes a um produto que n√£o √© um lanche.</li>
                    <li class="ml-6">Criar um pedido sem nenhum produto.</li>
                    <li class="ml-6">Informar IDs de ingredientes ou categorias inv√°lidos.</li>
                </ul>
            </section>

            <section id="ordem-execucao" class="mt-12">
                <h2 class="text-4xl font-bold text-slate-800 mb-8">üß≠ Ordem de Execu√ß√£o e Depend√™ncias</h2>
                <p class="mb-4">Para garantir o funcionamento correto ao testar a cria√ß√£o de entidades, siga a ordem de depend√™ncia abaixo. A cole√ß√£o do Postman j√° est√° organizada desta forma.</p>
                <div class="overflow-x-auto bg-white rounded-lg shadow">
                    <table class="w-full text-left">
                        <thead class="bg-slate-100">
                            <tr>
                                <th class="p-4 font-semibold text-slate-600">Ordem</th>
                                <th class="p-4 font-semibold text-slate-600">Entidade</th>
                                <th class="p-4 font-semibold text-slate-600">Depend√™ncia</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y">
                            <tr class="hover:bg-slate-50">
                                <td class="p-4 font-mono">1</td>
                                <td class="p-4 font-semibold text-slate-800">Categorias</td>
                                <td class="p-4">Nenhuma (Dados pr√©-cadastrados)</td>
                            </tr>
                            <tr class="hover:bg-slate-50">
                                <td class="p-4 font-mono">2</td>
                                <td class="p-4 font-semibold text-slate-800">Clientes</td>
                                <td class="p-4">Nenhuma</td>
                            </tr>
                            <tr class="hover:bg-slate-50">
                                <td class="p-4 font-mono">3</td>
                                <td class="p-4 font-semibold text-slate-800">Ingredientes</td>
                                <td class="p-4">Nenhuma</td>
                            </tr>
                            <tr class="hover:bg-slate-50">
                                <td class="p-4 font-mono">4</td>
                                <td class="p-4 font-semibold text-slate-800">Produtos</td>
                                <td class="p-4">Categoria e Ingredientes (se for lanche)</td>
                            </tr>
                            <tr class="hover:bg-slate-50">
                                <td class="p-4 font-mono">5</td>
                                <td class="p-4 font-semibold text-slate-800">Pedidos</td>
                                <td class="p-4">Produtos (obrigat√≥rio), Cliente (opcional)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
            
            <section id="exemplos" class="mt-12">
                 <h2 class="text-4xl font-bold text-slate-800 mb-8">üõ†Ô∏è Exemplos Pr√°ticos de Casos de Neg√≥cio</h2>
                 <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                     <div class="bg-white p-6 rounded-lg shadow border-t-4 border-green-400">
                        <h4 class="font-bold text-lg text-slate-800 mb-2">Cen√°rio V√°lido</h4>
                        <p>Criar um produto do tipo 'Lanche' com 3 ingredientes cadastrados.</p>
                        <p class="mt-2 text-sm font-semibold text-green-600">Resultado: Sucesso ‚úÖ</p>
                     </div>
                      <div class="bg-white p-6 rounded-lg shadow border-t-4 border-yellow-400">
                        <h4 class="font-bold text-lg text-slate-800 mb-2">Cen√°rio Ignorado</h4>
                        <p>Criar um produto do tipo 'Bebida' e enviar uma lista de ingredientes no corpo da requisi√ß√£o.</p>
                        <p class="mt-2 text-sm font-semibold text-yellow-600">Resultado: Sucesso, mas os ingredientes s√£o ignorados ü§∑</p>
                     </div>
                      <div class="bg-white p-6 rounded-lg shadow border-t-4 border-red-400">
                        <h4 class="font-bold text-lg text-slate-800 mb-2">Cen√°rio Inv√°lido</h4>
                        <p>Criar um produto do tipo 'Lanche' sem enviar nenhum ingrediente.</p>
                        <p class="mt-2 text-sm font-semibold text-red-600">Resultado: Erro de Valida√ß√£o ‚ùå</p>
                     </div>
                      <div class="bg-white p-6 rounded-lg shadow border-t-4 border-green-400">
                        <h4 class="font-bold text-lg text-slate-800 mb-2">Pedido com Adicionais</h4>
                        <p>Criar um pedido com um lanche e informar ingredientes que n√£o est√£o na sua composi√ß√£o original.</p>
                        <p class="mt-2 text-sm font-semibold text-green-600">Resultado: Sucesso, e o valor dos ingredientes extras √© somado ao total ‚úÖ</p>
                     </div>
                      <div class="bg-white p-6 rounded-lg shadow border-t-4 border-yellow-400">
                        <h4 class="font-bold text-lg text-slate-800 mb-2">Pedido com Remo√ß√£o</h4>
                        <p>Criar um pedido com um lanche e remover um de seus ingredientes base.</p>
                        <p class="mt-2 text-sm font-semibold text-yellow-600">Resultado: Sucesso, mas o valor do pedido n√£o muda (sem desconto) ü§∑</p>
                     </div>
                 </div>
            </section>

        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const copyButtons = document.querySelectorAll('.copy-btn');
            copyButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const codeBlock = button.previousElementSibling;
                    const textToCopy = codeBlock.innerText;
                    
                    navigator.clipboard.writeText(textToCopy).then(() => {
                        button.innerText = 'Copiado!';
                        button.style.backgroundColor = '#10b981'; // green-500
                        setTimeout(() => {
                            button.innerText = 'Copiar';
                            button.style.backgroundColor = '#475569'; // slate-600
                        }, 2000);
                    }).catch(err => {
                        console.error('Falha ao copiar texto: ', err);
                    });
                });
            });

            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('#sidebar-nav a');

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        navLinks.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href').substring(1) === entry.target.id) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, { rootMargin: "-50% 0px -50% 0px" });

            sections.forEach(section => {
                observer.observe(section);
            });
        });
    </script>
</body>
</html>
